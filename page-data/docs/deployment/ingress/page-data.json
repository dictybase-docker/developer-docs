{"componentChunkName":"component---node-modules-smooth-doc-src-templates-doc-js","path":"/docs/deployment/ingress/","result":{"data":{"mdx":{"fields":{"pageType":"doc","title":"Ingress","editLink":""},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Ingress\",\n  \"section\": \"Deployment\",\n  \"order\": 9\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"ingress\"\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#ingress\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Ingress\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://kubernetes.io/docs/concepts/services-networking/ingress/#what-is-ingress\"\n  }, \"Ingress\"), \"\\nmanages external access to services in a Kubernetes cluster. To configure Ingress access we need to install\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"nginx-controller\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Setup \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/developer-docs/deployment/certificate\"\n  }, \"cert-manager\"), \" for https access.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ingress manifests for opening up services\")), mdx(\"blockquote\", null, mdx(\"h4\", {\n    parentName: \"blockquote\",\n    \"id\": \"its-always-recommended-to-upgrade-helm-if-possible\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#its-always-recommended-to-upgrade-helm-if-possible\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"It's always recommended to \", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"/developer-docs/deployment/helm\"\n  }, \"upgrade helm\"), \" if possible.\")), mdx(\"h1\", {\n    \"id\": \"upgrade-nginx-controller\"\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#upgrade-nginx-controller\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Upgrade nginx-controller\"), mdx(\"blockquote\", null, mdx(\"h2\", {\n    parentName: \"blockquote\",\n    \"id\": \"quick-start\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#quick-start\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Quick start\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"kubectl get svc  -n default nginx-ingress-controller -o jsonpath='{.status.loadBalancer.ingress[0].ip}'\\nhelm delete nginx-ingress --purge\\nhelm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx/\\nhelm repo update\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"controller:\\n  service:\\n    loadBalancerIP: YOUR_IP_ADDRESS...\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"helm install ingress-nginx/ingress-nginx -n ingress-nginx --version 2.11.1 -f values.yaml\\n\")), mdx(\"blockquote\", null, mdx(\"h2\", {\n    parentName: \"blockquote\",\n    \"id\": \"step-by-step\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#step-by-step\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Step by step\")), mdx(\"h2\", {\n    \"id\": \"gather-external-ip\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#gather-external-ip\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Gather external IP\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"From cluster loadbalancer\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"kubectl get svc  -n default nginx-ingress-controller -o jsonpath='{.status.loadBalancer.ingress[0].ip}'\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"DNS lookup using any of the mapped domain\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"nslookup eric.dictybase.dev\\n\")), mdx(\"p\", null, \"The values should match each other, otherwise use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ip\"), \" from loaderbalancer query. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ip\"), \" will be\\nused to install the new chart.\"), mdx(\"h2\", {\n    \"id\": \"remove-existing-chart\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#remove-existing-chart\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Remove existing chart\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"helm delete nginx-ingress --purge\\n\")), mdx(\"h2\", {\n    \"id\": \"add-helm-repository-for-ingress-nginx\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#add-helm-repository-for-ingress-nginx\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Add helm repository for ingress-nginx\"), mdx(\"p\", null, \"The Helm \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"stable\"), \" repository is in the process of being deprecated so it is advised to use the\\ncommunity-supported \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/kubernetes/ingress-nginx\"\n  }, \"ingress-nginx\"), \" chart moving forward.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx/\\nhelm repo update\\n\")), mdx(\"h2\", {\n    \"id\": \"install-the-chart\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#install-the-chart\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Install the chart\"), mdx(\"blockquote\", null, mdx(\"h4\", {\n    parentName: \"blockquote\",\n    \"id\": \"chart-version-2111\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#chart-version-2111\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Chart version \", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"https://github.com/kubernetes/ingress-nginx/releases/tag/ingress-nginx-2.11.1\"\n  }, \"2.11.1\"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Create the following \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"yaml\"), \" value file\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"controller:\\n  service:\\n    loadBalancerIP: YOUR_IP_ADDRESS...\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"helm install ingress-nginx/ingress-nginx -n ingress-nginx --version 2.11.1 -f values.yaml\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Verify the loadbalancer IP\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"kubectl get svc  -n default ingress-nginx-controller -o jsonpath='{.status.loadBalancer.ingress[0].ip}'\\n\")), mdx(\"h1\", {\n    \"id\": \"deploy-ingress-manifests\"\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#deploy-ingress-manifests\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Deploy Ingress manifests\"), mdx(\"p\", null, \"These will be deployed alongside the various services. This particular sequence\\nof deployments should be followed at least for the first time. Here are the\\nexpected manifests to be deployed.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Minio storage\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"GraphQL auth backend\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"GraphQL backend\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Frontend applications\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Kubeless functions\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GraphQL\"), \" backend depends on the auth backend, so the auth backend have to be deployed first. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/developer-docs/deployment/certificate\"\n  }, \"Certificates\"), \" has to be installed and configured for secured(https) ingress access.\"), mdx(\"h2\", {\n    \"id\": \"rule-of-thumb-for-writing-and-deploying-ingress-manifests\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#rule-of-thumb-for-writing-and-deploying-ingress-manifests\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Rule of thumb for writing and deploying ingress manifests\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use a single \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"issuer\"), \" for all the ingresses in a cluster.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use a single domain for every ingresses. For every new domain, create a new manifests.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Every ingress should have a unique tls name within a particular namespace.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Try to use a consistent naming for ingresses and tlses.\")), mdx(\"h2\", {\n    \"id\": \"storage-backend\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#storage-backend\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Storage backend\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"ingress:\\n  annotations:\\n    cert-manager.io/issuer: dictybase-devsidd\\n  hosts:\\n    - name: siddstorage.dictybase.dev\\n      paths:\\n        - path: /\\n          serviceName: minio\\n          servicePort: 9000\\n  tls:\\n    - secretName: devsidd-storage-tls\\n      hosts:\\n        - siddstorage.dictybase.dev\\n\")), mdx(\"h2\", {\n    \"id\": \"auth-backend\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#auth-backend\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Auth backend\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"ingress:\\n  annotations:\\n    cert-manager.io/issuer: dictybase-ericdev\\n  hosts:\\n    - name: ericauth.dictybase.dev\\n      paths:\\n        - path: /watchmen\\n          serviceName: gql-authserver\\n          servicePort: gql-authserver\\n  tls:\\n    - secretName: ericdev-graphql-auth-tls\\n      hosts:\\n        - ericauth.dictybase.dev\\n\")), mdx(\"h2\", {\n    \"id\": \"graphql\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#graphql\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"GraphQL\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"ingress:\\n  annotations:\\n    nginx.ingress.kubernetes.io/auth-url: https://ericauth.dictybase.dev/watchmen\\n    nginx.ingress.kubernetes.io/auth-method: POST\\n    cert-manager.io/issuer: dictybase-ericdev\\n  hosts:\\n    - name: ericgraphql.dictybase.dev\\n      paths:\\n        - path: /\\n          serviceName: graphql-server\\n          servicePort: graphql-server\\n  tls:\\n    - secretName: ericdev-graphql-tls\\n      hosts:\\n        - ericgraphql.dictybase.dev\\n\")), mdx(\"h2\", {\n    \"id\": \"frontend-applications\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#frontend-applications\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Frontend Applications\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"ingress:\\n  annotations:\\n    cert-manager.io/issuer: dictybase-ericdev\\n  hosts:\\n    - name: eric.dictybase.dev\\n      paths:\\n        - path: /stockcenter\\n          serviceName: stock-center\\n          servicePort: stock-center\\n        - path: /dictyaccess\\n          serviceName: dictyaccess\\n          servicePort: dictyaccess\\n        - path: /gene\\n          serviceName: genomepage\\n          servicePort: genomepage\\n        - path: /publication\\n          serviceName: publication\\n          servicePort: publication\\n        - path: /\\n          serviceName: frontpage\\n          servicePort: frontpage\\n  tls:\\n    - secretName: ericdev-frontend-tls\\n      hosts:\\n        - eric.dictybase.dev\\n\")), mdx(\"h2\", {\n    \"id\": \"kubeless\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#kubeless\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Kubeless\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\"\n  }, \"ingress:\\n  annotations:\\n    nginx.ingress.kubernetes.io/rewrite-target: /$1\\n    cert-manager.io/issuer: dictybase-ericdev\\n  hosts:\\n    - name: ericfunc.dictybase.dev\\n      paths:\\n        - path: /dashboard/(.*)\\n          serviceName: dashfn\\n          servicePort: 8080\\n        - path: /publications/(.*)\\n          serviceName: pubfn\\n          servicePort: 8080\\n  tls:\\n    - secretName: ericdev-kubeless-tls\\n      hosts:\\n        - ericfunc.dictybase.dev\\n\")), mdx(\"h2\", {\n    \"id\": \"install-the-charts\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#install-the-charts\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Install the charts\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"helm install dictybase/dictybase-ingress --namespace dictybase -n <ingress name> -f <manifestname>.yaml\\n\")), mdx(\"h1\", {\n    \"id\": \"fresh-install\"\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#fresh-install\",\n    \"aria-hidden\": true,\n    \"className\": \"anchor\"\n  }, mdx(\"svg\", {\n    \"aria-hidden\": \"true\",\n    height: \"16\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: \"16\"\n  }, mdx(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Fresh install\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx/\\nhelm repo update\\nhelm install ingress-nginx/ingress-nginx -n ingress-nginx --version 2.11.1\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#ingress","title":"Ingress"},{"url":"#upgrade-nginx-controller","title":"Upgrade nginx-controller","items":[{"url":"#gather-external-ip","title":"Gather external IP"},{"url":"#remove-existing-chart","title":"Remove existing chart"},{"url":"#add-helm-repository-for-ingress-nginx","title":"Add helm repository for ingress-nginx"},{"url":"#install-the-chart","title":"Install the chart"}]},{"url":"#deploy-ingress-manifests","title":"Deploy Ingress manifests","items":[{"url":"#rule-of-thumb-for-writing-and-deploying-ingress-manifests","title":"Rule of thumb for writing and deploying ingress manifests"},{"url":"#storage-backend","title":"Storage backend"},{"url":"#auth-backend","title":"Auth backend"},{"url":"#graphql","title":"GraphQL"},{"url":"#frontend-applications","title":"Frontend Applications"},{"url":"#kubeless","title":"Kubeless"},{"url":"#install-the-charts","title":"Install the charts"}]},{"url":"#fresh-install","title":"Fresh install"}]}}},"pageContext":{"id":"5b7de828-babb-5139-a1d2-f5efc4f63d82"}},"staticQueryHashes":["1022386572","1122327541","1339625561","2140385554","3442269102","3597609067"]}